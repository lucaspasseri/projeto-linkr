{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Desktop\\\\projetos-react\\\\linkr\\\\src\\\\components\\\\Timeline\\\\Post.js\",\n    _s = $RefreshSig$();\n\nimport ReactHashtag from \"react-hashtag\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { BiRepost } from \"react-icons/bi\";\nimport PostStyle from \"../Styles/PostStyle\";\nimport EditButton from \"./EditButton\";\nimport DeleteButton from \"./DeleteButton\";\nimport RepostButton from \"./RepostButton\";\nimport EditArea from \"./EditArea\";\nimport Likes from \"../Likes/Likes\";\nimport CommentsButton from \"../Comments/CommentsButton\";\nimport CommentsSection from \"../Comments/CommentsSection\";\nimport LocationIndicator from \"./LocationIndicator\";\nimport styled from \"styled-components\";\nimport \"./ModalStyle.css\";\nimport Modal from \"react-modal\";\nimport { VscChromeClose } from \"react-icons/vsc\";\nimport getYouTubeID from \"get-youtube-id\";\nimport ReactPlayer from \"react-player/youtube\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nModal.setAppElement(\"#root\");\nexport default function Post({\n  post,\n  getPosts,\n  userId,\n  removePost\n}) {\n  _s();\n\n  const {\n    linkImage,\n    linkTitle,\n    linkDescription,\n    id,\n    user,\n    link,\n    text,\n    geolocation\n  } = post;\n  const [isEditing, setIsEditing] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showingComments, setShowingComments] = useState(false);\n  const [loadedComments, setLoadedComments] = useState(false);\n  const [alteredText, setAlteredText] = useState(text);\n  const [error, setError] = useState(false);\n  const [modalIsOpen, setIsOpen] = useState(false);\n  const [commentCounter, setCommentCounter] = useState(post.commentCount);\n\n  function editToggle() {\n    if (isLoading) {\n      return;\n    }\n\n    if (isEditing) {\n      setIsEditing(false);\n      return;\n    } else {\n      setIsEditing(true);\n    }\n  }\n\n  function openModal() {\n    setIsOpen(true);\n  }\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(PostStyle, {\n    avatar: user.avatar,\n    image: linkImage,\n    showingComments: showingComments,\n    children: [post.repostId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"repost\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(BiRepost, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), \"Reposted by\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n          to: `/user/${post.repostedBy.id}`,\n          children: post.repostedBy.id === userId ? \"you\" : post.repostedBy.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), post.repostedBy.id === userId && /*#__PURE__*/_jsxDEV(DeleteButton, {\n        postId: post.repostId,\n        userId: post.repostedBy.id,\n        repost: true,\n        removePost: removePost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-left\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"user-image\",\n          to: `/user/${user.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Likes, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommentsButton, {\n          post: post,\n          counter: commentCounter,\n          loadedComments: loadedComments,\n          setLoadedComments: setLoadedComments,\n          showingComments: showingComments,\n          setShowingComments: setShowingComments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RepostButton, {\n          post: post,\n          getPosts: getPosts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/user/${user.id}`,\n              className: \"username\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), geolocation && /*#__PURE__*/_jsxDEV(LocationIndicator, {\n              user: user.username,\n              geolocation: geolocation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(EditButton, {\n              userId: user.id,\n              edit: editToggle,\n              error: error,\n              setError: setError,\n              setIsEditing: setIsEditing\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n              postId: id,\n              userId: user.id,\n              removePost: removePost,\n              repost: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"user-text\",\n          children: isEditing ? /*#__PURE__*/_jsxDEV(EditArea, {\n            id: post.id,\n            setAlteredText: setAlteredText,\n            alteredText: alteredText,\n            setIsLoading: setIsLoading,\n            isEditing: isEditing,\n            setIsEditing: setIsEditing,\n            isLoading: isLoading,\n            setError: setError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ReactHashtag, {\n            renderHashtag: hashtagValue => /*#__PURE__*/_jsxDEV(Link, {\n              to: `/hashtag/${hashtagValue.substring(1)}`,\n              className: \"hashtag\",\n              children: hashtagValue\n            }, hashtagValue, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this),\n            children: alteredText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), getYouTubeID(post.link) !== null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(VideoPlayer, {\n            children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n              url: post.link,\n              config: {\n                youtube: {\n                  playerVars: {\n                    showinfo: 1,\n                    host: \"https://www.youtube.com\",\n                    origin: \"https://linkr-pll.vercel.app\"\n                  }\n                }\n              },\n              controls: true,\n              width: \"100%\",\n              height: \"100%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: post.link,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            children: post.link\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Modal, {\n            className: \"location preview\",\n            overlayClassName: \"overlay\",\n            isOpen: modalIsOpen,\n            onRequestClose: closeModal,\n            contentLabel: \"Example Modal\",\n            children: /*#__PURE__*/_jsxDEV(Preview, {\n              children: [/*#__PURE__*/_jsxDEV(Top, {\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  href: link,\n                  target: \"_blank\",\n                  rel: \"noreferrer\",\n                  children: \"Open in a new tab\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(VscChromeClose, {\n                  fontSize: \"24px\",\n                  onClick: closeModal\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n                className: \"i-frame\",\n                title: \"preview\",\n                src: link,\n                loading: \"lazy\",\n                fullscreen: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"link\",\n            onClick: openModal,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"texts\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"link-title\",\n                children: linkTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"link-description\",\n                children: linkDescription\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"link-url\",\n                children: link\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-section\",\n      children: loadedComments ? /*#__PURE__*/_jsxDEV(CommentsSection, {\n        post: post,\n        setCounter: setCommentCounter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Post, \"2FzH2t+245jiu91wRFcKavV01JM=\");\n\n_c = Post;\nconst Preview = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 0 16px;\n  .i-frame {\n    background: white;\n    width: 100%;\n    height: 520px;\n    margin-bottom: 20px;\n  }\n  @media (max-width: 780px) {\n    margin-top: 10px;\n    margin-bottom: 30px;\n    height: 500px;\n  }\n`;\n_c2 = Preview;\nconst Top = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  padding: 10px 0;\n  a {\n    width: 138px;\n    height: 31px;\n    background: #1877f2;\n    border-radius: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  svg {\n    cursor: pointer;\n  }\n`;\n_c3 = Top;\nconst VideoPlayer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 280px;\n  overflow: hidden;\n  margin-bottom: 5px;\n  @media (max-width: 740px) {\n    width: 100%;\n    height: calc((100vw - 100px) * 0.56);\n  }\n`;\n_c4 = VideoPlayer;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Post\");\n$RefreshReg$(_c2, \"Preview\");\n$RefreshReg$(_c3, \"Top\");\n$RefreshReg$(_c4, \"VideoPlayer\");","map":{"version":3,"sources":["C:/Users/lucas/Desktop/projetos-react/linkr/src/components/Timeline/Post.js"],"names":["ReactHashtag","useState","Link","BiRepost","PostStyle","EditButton","DeleteButton","RepostButton","EditArea","Likes","CommentsButton","CommentsSection","LocationIndicator","styled","Modal","VscChromeClose","getYouTubeID","ReactPlayer","setAppElement","Post","post","getPosts","userId","removePost","linkImage","linkTitle","linkDescription","id","user","link","text","geolocation","isEditing","setIsEditing","isLoading","setIsLoading","showingComments","setShowingComments","loadedComments","setLoadedComments","alteredText","setAlteredText","error","setError","modalIsOpen","setIsOpen","commentCounter","setCommentCounter","commentCount","editToggle","openModal","closeModal","avatar","repostId","repostedBy","username","hashtagValue","substring","youtube","playerVars","showinfo","host","origin","Preview","div","Top","VideoPlayer"],"mappings":"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","sourcesContent":["import ReactHashtag from \"react-hashtag\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { BiRepost } from \"react-icons/bi\";\r\n\r\nimport PostStyle from \"../Styles/PostStyle\";\r\n\r\nimport EditButton from \"./EditButton\";\r\nimport DeleteButton from \"./DeleteButton\";\r\nimport RepostButton from \"./RepostButton\";\r\nimport EditArea from \"./EditArea\";\r\nimport Likes from \"../Likes/Likes\";\r\nimport CommentsButton from \"../Comments/CommentsButton\";\r\nimport CommentsSection from \"../Comments/CommentsSection\";\r\nimport LocationIndicator from \"./LocationIndicator\";\r\n\r\nimport styled from \"styled-components\";\r\nimport \"./ModalStyle.css\";\r\nimport Modal from \"react-modal\";\r\nimport { VscChromeClose } from \"react-icons/vsc\";\r\nimport getYouTubeID from \"get-youtube-id\";\r\nimport ReactPlayer from \"react-player/youtube\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nexport default function Post({ post, getPosts, userId, removePost }) {\r\n  const {\r\n    linkImage,\r\n    linkTitle,\r\n    linkDescription,\r\n    id,\r\n    user,\r\n    link,\r\n    text,\r\n    geolocation,\r\n  } = post;\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showingComments, setShowingComments] = useState(false);\r\n  const [loadedComments, setLoadedComments] = useState(false);\r\n  const [alteredText, setAlteredText] = useState(text);\r\n  const [error, setError] = useState(false);\r\n  const [modalIsOpen, setIsOpen] = useState(false);\r\n  const [commentCounter, setCommentCounter] = useState(post.commentCount);\r\n\r\n  function editToggle() {\r\n    if (isLoading) {\r\n      return;\r\n    }\r\n    if (isEditing) {\r\n      setIsEditing(false);\r\n      return;\r\n    } else {\r\n      setIsEditing(true);\r\n    }\r\n  }\r\n\r\n  function openModal() {\r\n    setIsOpen(true);\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsOpen(false);\r\n  }\r\n\r\n  return (\r\n    <PostStyle\r\n      avatar={user.avatar}\r\n      image={linkImage}\r\n      showingComments={showingComments}\r\n    >\r\n      {post.repostId && (\r\n        <div className=\"repost\">\r\n          <div>\r\n            <BiRepost />\r\n            Reposted by{\" \"}\r\n            <Link to={`/user/${post.repostedBy.id}`}>\r\n              {post.repostedBy.id === userId ? \"you\" : post.repostedBy.username}\r\n            </Link>\r\n          </div>\r\n          {post.repostedBy.id === userId && (\r\n            <DeleteButton\r\n              postId={post.repostId}\r\n              userId={post.repostedBy.id}\r\n              repost={true}\r\n              removePost={removePost}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n      <div className=\"post-content\">\r\n        <div className=\"post-left\">\r\n          <Link className=\"user-image\" to={`/user/${user.id}`}>\r\n            <div />\r\n          </Link>\r\n          <Likes post={post}></Likes>\r\n          <CommentsButton\r\n            post={post}\r\n            counter={commentCounter}\r\n            loadedComments={loadedComments}\r\n            setLoadedComments={setLoadedComments}\r\n            showingComments={showingComments}\r\n            setShowingComments={setShowingComments}\r\n          />\r\n          <RepostButton post={post} getPosts={getPosts} />\r\n        </div>\r\n        <div className=\"post-right\">\r\n          <div className=\"top\">\r\n            <div>\r\n              <Link to={`/user/${user.id}`} className=\"username\">\r\n                {user.username}\r\n              </Link>\r\n              {geolocation && (\r\n                <LocationIndicator\r\n                  user={user.username}\r\n                  geolocation={geolocation}\r\n                />\r\n              )}\r\n            </div>\r\n            <div>\r\n              <EditButton\r\n                userId={user.id}\r\n                edit={editToggle}\r\n                error={error}\r\n                setError={setError}\r\n                setIsEditing={setIsEditing}\r\n              />\r\n              <DeleteButton\r\n                postId={id}\r\n                userId={user.id}\r\n                removePost={removePost}\r\n                repost={false}\r\n              />\r\n            </div>\r\n          </div>\r\n          <p className=\"user-text\">\r\n            {isEditing ? (\r\n              <EditArea\r\n                id={post.id}\r\n                setAlteredText={setAlteredText}\r\n                alteredText={alteredText}\r\n                setIsLoading={setIsLoading}\r\n                isEditing={isEditing}\r\n                setIsEditing={setIsEditing}\r\n                isLoading={isLoading}\r\n                setError={setError}\r\n              />\r\n            ) : (\r\n              <ReactHashtag\r\n                renderHashtag={(hashtagValue) => (\r\n                  <Link\r\n                    to={`/hashtag/${hashtagValue.substring(1)}`}\r\n                    className=\"hashtag\"\r\n                    key={hashtagValue}\r\n                  >\r\n                    {hashtagValue}\r\n                  </Link>\r\n                )}\r\n              >\r\n                {alteredText}\r\n              </ReactHashtag>\r\n            )}\r\n          </p>\r\n          {getYouTubeID(post.link) !== null ? (\r\n            <>\r\n              <VideoPlayer>\r\n                <ReactPlayer\r\n                  url={post.link}\r\n                  config={{\r\n                    youtube: {\r\n                      playerVars: {\r\n                        showinfo: 1,\r\n                        host: \"https://www.youtube.com\",\r\n                        origin: \"https://linkr-pll.vercel.app\",\r\n                      },\r\n                    },\r\n                  }}\r\n                  controls={true}\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                />\r\n              </VideoPlayer>\r\n              <a href={post.link} target=\"_blank\" rel=\"noreferrer\">\r\n                {post.link}\r\n              </a>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Modal\r\n                className=\"location preview\"\r\n                overlayClassName=\"overlay\"\r\n                isOpen={modalIsOpen}\r\n                onRequestClose={closeModal}\r\n                contentLabel=\"Example Modal\"\r\n              >\r\n                <Preview>\r\n                  <Top>\r\n                    <a href={link} target=\"_blank\" rel=\"noreferrer\">\r\n                      Open in a new tab\r\n                    </a>\r\n                    <VscChromeClose fontSize=\"24px\" onClick={closeModal} />\r\n                  </Top>\r\n                  <iframe\r\n                    className=\"i-frame\"\r\n                    title=\"preview\"\r\n                    src={link}\r\n                    loading=\"lazy\"\r\n                    fullscreen\r\n                  ></iframe>\r\n                </Preview>\r\n              </Modal>\r\n              <div className=\"link\" onClick={openModal}>\r\n                <div className=\"texts\">\r\n                  <p className=\"link-title\">{linkTitle}</p>\r\n                  <p className=\"link-description\">{linkDescription}</p>\r\n                  <p className=\"link-url\">{link}</p>\r\n                </div>\r\n                <div className=\"image\"></div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"comment-section\">\r\n        {loadedComments ? (\r\n          <CommentsSection post={post} setCounter={setCommentCounter} />\r\n        ) : null}\r\n      </div>\r\n    </PostStyle>\r\n  );\r\n}\r\nconst Preview = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0 16px;\r\n  .i-frame {\r\n    background: white;\r\n    width: 100%;\r\n    height: 520px;\r\n    margin-bottom: 20px;\r\n  }\r\n  @media (max-width: 780px) {\r\n    margin-top: 10px;\r\n    margin-bottom: 30px;\r\n    height: 500px;\r\n  }\r\n`;\r\nconst Top = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  a {\r\n    width: 138px;\r\n    height: 31px;\r\n    background: #1877f2;\r\n    border-radius: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  svg {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst VideoPlayer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 280px;\r\n  overflow: hidden;\r\n  margin-bottom: 5px;\r\n  @media (max-width: 740px) {\r\n    width: 100%;\r\n    height: calc((100vw - 100px) * 0.56);\r\n  }\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Desktop\\\\projetos-react\\\\linkr\\\\src\\\\components\\\\Timeline\\\\RepostButton.js\",\n    _s = $RefreshSig$();\n\nimport { BiRepost } from \"react-icons/bi\";\nimport styled from \"styled-components\";\nimport UserContext from \"../../contexts/UserContexts\";\nimport axios from \"axios\";\nimport Modal from \"react-modal\";\nimport \"./ModalStyle.css\";\nimport { useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nModal.setAppElement(\"#root\");\nexport default function RepostButton({\n  post,\n  getPosts\n}) {\n  _s();\n\n  const {\n    user\n  } = useContext(UserContext);\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  function repostPost() {\n    const config = {\n      headers: {\n        Authorization: `Bearer ${user.token}`\n      }\n    };\n    const repostRequest = axios.post(`https://mock-api.bootcamp.respondeai.com.br/api/v2/linkr/posts/${post.id}/share`, {}, config);\n    setIsLoading(true);\n    repostRequest.then(() => {\n      setIsOpen(false);\n      setIsLoading(false);\n      getPosts(true);\n    });\n    repostRequest.catch(() => {\n      setError(true);\n      setIsLoading(false);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(StyledRepostButton, {\n      onClick: () => setIsOpen(true),\n      children: [/*#__PURE__*/_jsxDEV(BiRepost, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [post.repostCount, \" repost\", post.repostCount > 0 ? \"s\" : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      className: \"content\",\n      overlayClassName: \"overlay\",\n      isOpen: isOpen,\n      onRequestClose: () => setIsOpen(false),\n      children: /*#__PURE__*/_jsxDEV(ModalContent, {\n        error: error,\n        children: error ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Error: Could not repost this link at this time.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cancel\",\n              onClick: () => {\n                setIsOpen(false);\n                setError(false);\n              },\n              disabled: isLoading,\n              children: \"Ok, go back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Do you want to re-post \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 40\n            }, this), \"this link?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cancel\",\n              onClick: () => setIsOpen(false),\n              disabled: isLoading,\n              children: \"No, cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: repostPost,\n              disabled: isLoading,\n              children: isLoading ? \"Sharing...\" : \"Yes, share!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(Overlay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true);\n}\n\n_s(RepostButton, \"PloDANM1Mx/kgnUi5r6N15WAHFU=\");\n\n_c = RepostButton;\nconst StyledRepostButton = styled.button`\n  margin-top: 15px;\n  width: 100%;\n  padding: 0;\n  border: none;\n  background-color: transparent;\n  color: inherit;\n`;\n_c2 = StyledRepostButton;\nconst ModalContent = styled.div`\n  color: white;\n  p {\n    max-width: 360px;\n    font-weight: bold;\n    font-size: 34px;\n    line-height: 41px;\n    margin: 0px 30px 47px;\n  }\n  div {\n    display: flex;\n    align-items: center;\n    justify-content: ${props => props.error ? \"center\" : \"space-between\"};\n    padding: 0px 30px;\n    button {\n      width: 134px;\n      height: 37px;\n      border-radius: 5px;\n      font-weight: bold;\n      font-size: 18px;\n      line-height: 22px;\n      border: none;\n      color: #ffffff;\n      background: #1877f2;\n    }\n    button.cancel {\n      background: #ffffff;\n      color: #1877f2;\n    }\n    button:disabled {\n      filter: brightness(0.7);\n    }\n  }\n  @media (max-width: 740px) {\n    border-radius: 16px;\n    p {\n      font-size: 24px;\n    }\n    button {\n      margin: 0px 5px;\n    }\n  }\n`;\n_c3 = ModalContent;\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: transparent;\n  z-index: 5;\n`;\n_c4 = Overlay;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"RepostButton\");\n$RefreshReg$(_c2, \"StyledRepostButton\");\n$RefreshReg$(_c3, \"ModalContent\");\n$RefreshReg$(_c4, \"Overlay\");","map":{"version":3,"sources":["C:/Users/lucas/Desktop/projetos-react/linkr/src/components/Timeline/RepostButton.js"],"names":["BiRepost","styled","UserContext","axios","Modal","useContext","useState","setAppElement","RepostButton","post","getPosts","user","isOpen","setIsOpen","isLoading","setIsLoading","error","setError","repostPost","config","headers","Authorization","token","repostRequest","id","then","catch","repostCount","StyledRepostButton","button","ModalContent","div","props","Overlay"],"mappings":"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","sourcesContent":["import { BiRepost } from \"react-icons/bi\";\r\nimport styled from \"styled-components\";\r\nimport UserContext from \"../../contexts/UserContexts\";\r\nimport axios from \"axios\";\r\nimport Modal from \"react-modal\";\r\nimport \"./ModalStyle.css\";\r\nimport { useContext, useState } from \"react\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nexport default function RepostButton({ post, getPosts }) {\r\n  const { user } = useContext(UserContext);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  function repostPost() {\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    };\r\n    const repostRequest = axios.post(\r\n      `https://mock-api.bootcamp.respondeai.com.br/api/v2/linkr/posts/${post.id}/share`,\r\n      {},\r\n      config\r\n    );\r\n    setIsLoading(true);\r\n    repostRequest.then(() => {\r\n      setIsOpen(false);\r\n      setIsLoading(false);\r\n      getPosts(true);\r\n    });\r\n    repostRequest.catch(() => {\r\n      setError(true);\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StyledRepostButton onClick={() => setIsOpen(true)}>\r\n        <BiRepost />\r\n        <p>\r\n          {post.repostCount} repost{post.repostCount > 0 ? \"s\" : null}\r\n        </p>\r\n      </StyledRepostButton>\r\n      <Modal\r\n        className=\"content\"\r\n        overlayClassName=\"overlay\"\r\n        isOpen={isOpen}\r\n        onRequestClose={() => setIsOpen(false)}\r\n      >\r\n        <ModalContent error={error}>\r\n          {error ? (\r\n            <>\r\n              <p>Error: Could not repost this link at this time.</p>\r\n              <div>\r\n                <button\r\n                  className=\"cancel\"\r\n                  onClick={() => {\r\n                    setIsOpen(false);\r\n                    setError(false);\r\n                  }}\r\n                  disabled={isLoading}\r\n                >\r\n                  Ok, go back\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <p>\r\n                Do you want to re-post <br />\r\n                this link?\r\n              </p>\r\n              <div>\r\n                <button\r\n                  className=\"cancel\"\r\n                  onClick={() => setIsOpen(false)}\r\n                  disabled={isLoading}\r\n                >\r\n                  No, cancel\r\n                </button>\r\n                <button onClick={repostPost} disabled={isLoading}>\r\n                  {isLoading ? \"Sharing...\" : \"Yes, share!\"}\r\n                </button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </ModalContent>\r\n      </Modal>\r\n      {isLoading && <Overlay />}\r\n    </>\r\n  );\r\n}\r\n\r\nconst StyledRepostButton = styled.button`\r\n  margin-top: 15px;\r\n  width: 100%;\r\n  padding: 0;\r\n  border: none;\r\n  background-color: transparent;\r\n  color: inherit;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  color: white;\r\n  p {\r\n    max-width: 360px;\r\n    font-weight: bold;\r\n    font-size: 34px;\r\n    line-height: 41px;\r\n    margin: 0px 30px 47px;\r\n  }\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: ${(props) => (props.error ? \"center\" : \"space-between\")};\r\n    padding: 0px 30px;\r\n    button {\r\n      width: 134px;\r\n      height: 37px;\r\n      border-radius: 5px;\r\n      font-weight: bold;\r\n      font-size: 18px;\r\n      line-height: 22px;\r\n      border: none;\r\n      color: #ffffff;\r\n      background: #1877f2;\r\n    }\r\n    button.cancel {\r\n      background: #ffffff;\r\n      color: #1877f2;\r\n    }\r\n    button:disabled {\r\n      filter: brightness(0.7);\r\n    }\r\n  }\r\n  @media (max-width: 740px) {\r\n    border-radius: 16px;\r\n    p {\r\n      font-size: 24px;\r\n    }\r\n    button {\r\n      margin: 0px 5px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: transparent;\r\n  z-index: 5;\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}
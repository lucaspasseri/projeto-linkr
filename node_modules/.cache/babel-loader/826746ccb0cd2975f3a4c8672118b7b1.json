{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Desktop\\\\projetos-react\\\\linkr\\\\src\\\\components\\\\Trending\\\\Trending.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useContext, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport UserContext from \"../../contexts/UserContexts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Trending() {\n  _s();\n\n  const {\n    user\n  } = useContext(UserContext);\n  const [trending, setTrending] = useState([]);\n  const [requestError, setRequestError] = useState(false);\n  const [hashtag, setHashtag] = useState(\"\");\n  const history = useHistory();\n  const [lastUpdate, setLastUpdate] = useState(Date.now());\n  const location = useLocation();\n  useEffect(() => {\n    if (user) {\n      getTrending();\n    }\n  }, [user]);\n  useEffect(() => {\n    if (Date.now() - lastUpdate > 60000) {\n      setLastUpdate(Date.now());\n      getTrending();\n    }\n  }, [location]);\n\n  function getTrending() {\n    const config = {\n      headers: {\n        Authorization: `Bearer ${user.token}`\n      }\n    };\n    const request = axios.get(\"https://mock-api.bootcamp.respondeai.com.br/api/v2/linkr/hashtags/trending\", config);\n    request.then(response => {\n      setTrending(response.data.hashtags);\n      setRequestError(false);\n    });\n    setRequestError(false);\n    request.catch(() => {\n      setRequestError(true);\n    });\n  }\n\n  function goToHashtag(e) {\n    e.preventDefault();\n\n    if (!hashtag) {\n      return;\n    }\n\n    history.push(`/hashtag/${hashtag}`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(TrendingContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: \"trending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ContainerList, {\n        children: !requestError ? trending.length > 0 ? trending.map(item => /*#__PURE__*/_jsxDEV(Link, {\n          to: `/hashtag/${item.name}`,\n          children: [\"# \", item.name]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"Loading...\"\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          onClick: getTrending,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Could not get trending.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Try again?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: goToHashtag,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"#\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: hashtag,\n          onChange: e => setHashtag(e.target.value.replace(/[\\W_]+/, \"\")),\n          type: \"text\",\n          placeholder: \"type a hashtag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Trending, \"RswtuOh04PeiWLmN19vA6ldJqi8=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Trending;\nconst TrendingContainer = styled.div`\n  position: fixed;\n  top: 232px;\n  right: calc((100% - 945px) / 2 + 5px);\n  & > div {\n    font-weight: bold;\n    width: 300px;\n    background-color: #171717;\n    border-radius: 16px;\n\n    .title {\n      font-family: \"Oswald\", sans-serif;\n      font-size: 27px;\n      line-height: 40px;\n      height: 60px;\n      display: flex;\n      align-items: center;\n      padding: 0px 16px;\n      border-bottom: 1px solid #484848;\n    }\n    form {\n      padding: 0px 16px 15px;\n      display: flex;\n      align-items: center;\n      span {\n        position: absolute;\n        font-size: 19px;\n        left: 29px;\n      }\n      input {\n        font-family: Lato;\n        font-weight: normal;\n        font-size: 16px;\n        letter-spacing: 0.05em;\n        color: white;\n        height: 35px;\n        background: #252525;\n        border-radius: 8px;\n        width: 100%;\n        border: none;\n        padding: 0px 12px 0px 36px;\n      }\n      input::placeholder {\n        color: #575757;\n        font-style: italic;\n        opacity: 1;\n      }\n    }\n  }\n  @media (max-height: 640px) {\n    top: initial;\n    bottom: 0;\n  }\n  @media (max-width: 950px) {\n    right: 5px;\n  }\n  @media (max-width: 740px) {\n    display: none;\n  }\n`;\n_c2 = TrendingContainer;\nconst ContainerList = styled.div`\n  font-family: \"Lato\", sans-serif;\n  font-size: 19px;\n  line-height: 23px;\n  letter-spacing: 0.05em;\n  padding: 24px 16px 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 330px;\n  a {\n    margin-bottom: 5px;\n    width: fit-content;\n  }\n`;\n_c3 = ContainerList;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Trending\");\n$RefreshReg$(_c2, \"TrendingContainer\");\n$RefreshReg$(_c3, \"ContainerList\");","map":{"version":3,"sources":["C:/Users/lucas/Desktop/projetos-react/linkr/src/components/Trending/Trending.js"],"names":["axios","useEffect","useContext","useState","Link","useHistory","useLocation","styled","UserContext","Trending","user","trending","setTrending","requestError","setRequestError","hashtag","setHashtag","history","lastUpdate","setLastUpdate","Date","now","location","getTrending","config","headers","Authorization","token","request","get","then","response","data","hashtags","catch","goToHashtag","e","preventDefault","push","length","map","item","name","id","target","value","replace","TrendingContainer","div","ContainerList"],"mappings":"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Jd;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cApBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAkCD;;GApFuBrC,Q;UAKNJ,U,EAECC,W;;;KAPKG,Q;AAsFxB,MAAMsC,iBAAiB,GAAGxC,MAAM,CAACyC,GAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA3DA;MAAMD,iB;AA6DN,MAAME,aAAa,GAAG1C,MAAM,CAACyC,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAdA;MAAMC,a","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useContext, useState } from \"react\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport UserContext from \"../../contexts/UserContexts\";\r\n\r\nexport default function Trending() {\r\n  const { user } = useContext(UserContext);\r\n  const [trending, setTrending] = useState([]);\r\n  const [requestError, setRequestError] = useState(false);\r\n  const [hashtag, setHashtag] = useState(\"\");\r\n  const history = useHistory();\r\n  const [lastUpdate, setLastUpdate] = useState(Date.now());\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      getTrending();\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (Date.now() - lastUpdate > 60000) {\r\n      setLastUpdate(Date.now());\r\n      getTrending();\r\n    }\r\n  }, [location]);\r\n\r\n  function getTrending() {\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    };\r\n    const request = axios.get(\r\n      \"https://mock-api.bootcamp.respondeai.com.br/api/v2/linkr/hashtags/trending\",\r\n      config\r\n    );\r\n    request.then((response) => {\r\n      setTrending(response.data.hashtags);\r\n      setRequestError(false);\r\n    });\r\n    setRequestError(false);\r\n    request.catch(() => {\r\n      setRequestError(true);\r\n    });\r\n  }\r\n\r\n  function goToHashtag(e) {\r\n    e.preventDefault();\r\n    if (!hashtag) {\r\n      return;\r\n    }\r\n    history.push(`/hashtag/${hashtag}`);\r\n  }\r\n\r\n  return (\r\n    <TrendingContainer>\r\n      <div>\r\n        <p className=\"title\">trending</p>\r\n        <ContainerList>\r\n          {!requestError ? (\r\n            trending.length > 0 ? (\r\n              trending.map((item) => (\r\n                <Link key={item.id} to={`/hashtag/${item.name}`}>\r\n                  # {item.name}\r\n                </Link>\r\n              ))\r\n            ) : (\r\n              <>Loading...</>\r\n            )\r\n          ) : (\r\n            <a href=\"#\" onClick={getTrending}>\r\n              <p>Could not get trending.</p>\r\n              <p>Try again?</p>\r\n            </a>\r\n          )}\r\n        </ContainerList>\r\n        <form onSubmit={goToHashtag}>\r\n          <span>#</span>\r\n          <input\r\n            value={hashtag}\r\n            onChange={(e) => setHashtag(e.target.value.replace(/[\\W_]+/, \"\"))}\r\n            type=\"text\"\r\n            placeholder=\"type a hashtag\"\r\n          />\r\n        </form>\r\n      </div>\r\n    </TrendingContainer>\r\n  );\r\n}\r\n\r\nconst TrendingContainer = styled.div`\r\n  position: fixed;\r\n  top: 232px;\r\n  right: calc((100% - 945px) / 2 + 5px);\r\n  & > div {\r\n    font-weight: bold;\r\n    width: 300px;\r\n    background-color: #171717;\r\n    border-radius: 16px;\r\n\r\n    .title {\r\n      font-family: \"Oswald\", sans-serif;\r\n      font-size: 27px;\r\n      line-height: 40px;\r\n      height: 60px;\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 0px 16px;\r\n      border-bottom: 1px solid #484848;\r\n    }\r\n    form {\r\n      padding: 0px 16px 15px;\r\n      display: flex;\r\n      align-items: center;\r\n      span {\r\n        position: absolute;\r\n        font-size: 19px;\r\n        left: 29px;\r\n      }\r\n      input {\r\n        font-family: Lato;\r\n        font-weight: normal;\r\n        font-size: 16px;\r\n        letter-spacing: 0.05em;\r\n        color: white;\r\n        height: 35px;\r\n        background: #252525;\r\n        border-radius: 8px;\r\n        width: 100%;\r\n        border: none;\r\n        padding: 0px 12px 0px 36px;\r\n      }\r\n      input::placeholder {\r\n        color: #575757;\r\n        font-style: italic;\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n  @media (max-height: 640px) {\r\n    top: initial;\r\n    bottom: 0;\r\n  }\r\n  @media (max-width: 950px) {\r\n    right: 5px;\r\n  }\r\n  @media (max-width: 740px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst ContainerList = styled.div`\r\n  font-family: \"Lato\", sans-serif;\r\n  font-size: 19px;\r\n  line-height: 23px;\r\n  letter-spacing: 0.05em;\r\n  padding: 24px 16px 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 330px;\r\n  a {\r\n    margin-bottom: 5px;\r\n    width: fit-content;\r\n  }\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}